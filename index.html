<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduStat - Analisis Data Pendidikan</title>
    <style>
        /* CSS tetap sama seperti sebelumnya */
        :root {
            --primary: #4a6fa5;
            --secondary: #166088;
            --accent: #4cb5f5;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7f9;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .logo-icon {
            margin-right: 10px;
            font-size: 2rem;
        }

        nav {
            margin-left: auto;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        nav li {
            margin-left: 1.5rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background 0.3s;
            display: block;
        }
        
        nav a:hover, nav a.active {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        main {
            padding: 2rem 0;
            min-height: calc(100vh - 180px);
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        h1, h2, h3 {
            color: var(--dark);
            margin-bottom: 1rem;
        }
        
        .home-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .home-icon {
            font-size: 2.5rem;
            margin-right: 15px;
            color: var(--primary);
        }
        
        .initiators {
            margin-top: 2rem;
        }
        
        .initiator-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        
        select, input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 1rem;
            font-size: 1rem;
        }
        
        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }
        
        button:hover {
            background: var(--secondary);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin: 0.5rem 0;
        }
        
        .stat-label {
            color: #666;
        }
        
        .priority-list {
            margin-top: 1.5rem;
        }
        
        .priority-item {
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--warning);
            background: #fff9e6;
            border-radius: 4px;
        }
        
        .priority-item:nth-child(2) {
            border-left-color: var(--danger);
            background: #ffe6e6;
        }
        
        .priority-item:nth-child(3) {
            border-left-color: var(--info);
            background: #e6f7ff;
        }
        
        .alert {
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }
        
        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid var(--warning);
            color: #856404;
        }
        
        .alert-info {
            background: #d1ecf1;
            border-left: 4px solid var(--info);
            color: #0c5460;
        }
        
        .alert-success {
            background: #d4edda;
            border-left: 4px solid var(--success);
            color: #155724;
        }
        
        .cluster-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: bold;
            margin-left: 0.5rem;
        }
        
        .cluster-0 { background: #d4edda; color: #155724; }
        .cluster-1 { background: #ffe6e6; color: #dc3545; }
        .cluster-2 { background: #e6f7ff; color: #17a2b8; }
        
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .input-group {
            margin-bottom: 1rem;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .result-table th, .result-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .result-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            margin-top: 2rem;
        }
        
        @media (max-width: 768px) {
            .header-content {
                padding-right: 50px;
            }

            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                right: 0;
                background: var(--primary);
                flex-direction: column;
                padding: 1rem 0;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                width: 200px;
                z-index: 1000;
            }
            
            nav ul.show {
                display: flex;
            }
            
            nav li {
                margin: 0;
                width: 100%;
            }
            
            nav a {
                display: block;
                padding: 1rem;
                border-radius: 0;
                text-align: left;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .input-grid {
                grid-template-columns: 1fr;
            }
        }

        .map-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            margin: 20px 0;
        }

        .map-image {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Untuk desktop - batasi ukuran maksimum */
        @media (min-width: 769px) {
            .map-container {
                max-width: 1000px;
                margin: 20px auto;
            }
        }
        
        /* Untuk tablet */
        @media (max-width: 768px) {
            .map-container {
                padding: 0 10px;
            }
        }

        /* Untuk ponsel kecil */
        @media (max-width: 480px) {
            .index-container {
                flex-direction: column;
                align-items: center;
            }
            
            .index-card {
                width: 100%;
                max-width: 320px;
                margin-bottom: 15px;
            }
            
            .map-legend {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }

        /* Index Section */
        .index-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .index-card {
            background: white;
            border: 2px solid #ccc;
            border-radius: 12px;
            padding: 20px;
            width: 280px;
            text-align: left;
        }

        .index-card h3 {
            margin-top: 0;
            margin-bottom: 10px;
        }
        .index-card p {
            text-align: justify;
        }
        /* Legend Styles */
        .map-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-label {
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üìä</span>
                    <span>EduStat</span>
                </div>
                <button class="mobile-menu-btn">‚ò∞</button>
                <nav>
                    <ul id="nav-menu">
                        <li><a href="#" class="nav-link active" data-page="home">Beranda</a></li>
                        <li><a href="#" class="nav-link" data-page="analysis">Analisis</a></li>
                        <li><a href="#" class="nav-link" data-page="centroid">Prediksi</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- Halaman Beranda -->
            <section id="home" class="page active">
                <div class="home-header">
                    <span class="home-icon">üè°</span>
                    <h1>Beranda</h1>
                </div>
                
                <div class="card">
                    <h2>Aplikasi Prediksi Cluster Provinsi dan Top 3 Policy Based on Data</h2>
                    <p>
                        Aplikasi ini dibuat untuk memprediksi klaster provinsi di Indonesia 
                        dan memberikan 3 kebijakan yang harus diambil 
                        berdasarkan analisis data beberapa fasilitas pendidikan dan sosial-ekonomi.
                    </p>
                </div>
                
                <div class="card">
                    <h3>ID Inisiator:</h3>
                    <div class="initiators">
                        <div class="initiator-item">SD2025030000329</div>
                    </div>
                </div>
                    <div class="map-container">
                        <img src="indonesia-map.svg" class="map-image" usemap="#image-map" alt="Peta Indonesia">
                        <div id="tooltip" class="tooltip"></div>
                    </div>   
                
                <div class="map-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #013c58;"></div>
                        <span class="legend-label">Maju</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f5a201;"></div>
                        <span class="legend-label">Menengah</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #c1121f;"></div>
                        <span class="legend-label">Tertinggal</span>
                    </div>
                </div>

                    <!-- Index Cluster Section -->
                <h2>Index :</h2>
                    <div class="index-container">
                        <div class="index-card">
                            <h3>1 - Tertinggal</h3>
                            <p>Klaster ini terdiri dari provinsi-provinsi yang paling membutuhkan perhatian dan intervensi, dengan nilai rendah di hampir semua indikator dasar seperti akses listrik, internet, ketersediaan guru, akses kesehatan, dan prevalensi stunting yang tinggi.</p>
                        </div>

                        <div class="index-card">
                            <h3>2 - Menengah</h3>
                            <p>Provinsi dalam klaster ini menunjukkan kinerja yang mendekati rata-rata nasional di sebagian besar indikator, dengan keunggulan relatif pada pemerataan pendapatan.</p>
                        </div>

                        <div class="index-card">
                            <h3>3 - Maju</h3>
                            <p>Provinsi di klaster ini memiliki akses listrik, internet, dan rasio guru yang baik, serta prevalensi stunting yang rendah, meskipun menghadapi isu ketimpangan pendapatan.</p>
                        </div>
                    </div>
            </section>

            <!-- Halaman Analisis -->
            <section id="analysis" class="page">
                <div class="home-header">
                    <span class="home-icon">üìä</span>
                    <h1>Analisis Decision Tree (Data 2024)</h1>
                </div>
                
                <div class="card">
                    <div class="input-group">
                        <label for="provinsi-select">Pilih Provinsi:</label>
                        <select id="provinsi-select">
                            <option value="ACEH">Aceh</option>
                            <option value="SUMATERA UTARA">Sumatera Utara</option>
                            <option value="SUMATERA BARAT">Sumatera Barat</option>
                            <option value="RIAU">Riau</option>
                            <option value="JAMBI">Jambi</option>
                            <option value="SUMATERA SELATAN">Sumatera Selatan</option>
                            <option value="BENGKULU">Bengkulu</option>
                            <option value="LAMPUNG">Lampung</option>
                            <option value="KEP. BANGKA BELITUNG">Kep. Bangka Belitung</option>
                            <option value="KEP. RIAU">Kep. Riau</option>
                            <option value="DKI JAKARTA">DKI Jakarta</option>
                            <option value="JAWA BARAT">Jawa Barat</option>
                            <option value="JAWA TENGAH">Jawa Tengah</option>
                            <option value="DI YOGYAKARTA">DI Yogyakarta</option>
                            <option value="JAWA TIMUR">Jawa Timur</option>
                            <option value="BANTEN">Banten</option>
                            <option value="BALI">Bali</option>
                            <option value="NUSA TENGGARA BARAT">Nusa Tenggara Barat</option>
                            <option value="NUSA TENGGARA TIMUR">Nusa Tenggara Timur</option>
                            <option value="KALIMANTAN BARAT">Kalimantan Barat</option>
                            <option value="KALIMANTAN TENGAH">Kalimantan Tengah</option>
                            <option value="KALIMANTAN SELATAN">Kalimantan Selatan</option>
                            <option value="KALIMANTAN TIMUR">Kalimantan Timur</option>
                            <option value="KALIMANTAN UTARA">Kalimantan Utara</option>
                            <option value="SULAWESI UTARA">Sulawesi Utara</option>
                            <option value="SULAWESI TENGAH">Sulawesi Tengah</option>
                            <option value="SULAWESI SELATAN">Sulawesi Selatan</option>
                            <option value="SULAWESI TENGGARA">Sulawesi Tenggara</option>
                            <option value="GORONTALO">Gorontalo</option>
                            <option value="SULAWESI BARAT">Sulawesi Barat</option>
                            <option value="MALUKU">Maluku</option>
                            <option value="MALUKU UTARA">Maluku Utara</option>
                            <option value="PAPUA BARAT">Papua Barat</option>
                            <option value="PAPUA BARAT DAYA">Papua Barat Daya</option>
                            <option value="PAPUA">Papua</option>
                            <option value="PAPUA SELATAN">Papua Selatan</option>
                            <option value="PAPUA TENGAH">Papua Tengah</option>
                            <option value="PAPUA PEGUNUNGAN">Papua Pegunungan</option>
                        </select>
                    </div>
                    
                    <div id="analysis-result">
                        <div class="alert alert-success">
                            Silakan pilih provinsi untuk melihat analisisnya.
                        </div>
                    </div>
                </div>
            </section>

            <!-- Halaman Prediksi Centroid -->
            <section id="centroid" class="page">
                <div class="home-header">
                    <span class="home-icon">üìç</span>
                    <h1>Prediksi dengan Distance to Centroid</h1>
                </div>
                
                <div class="card">
                    <h2>Masukkan Data Provinsi Baru</h2>
                    
                    <div class="input-grid">
                        <div class="input-group">
                            <label for="input-al">Nilai Akses Listrik (0-100%)</label>
                            <input type="number" id="input-al" step="0.001" value="0.0">
                        </div>
                        
                        <div class="input-group">
                            <label for="input-ibo">Nilai Internet Pembelajaran Online (0-100%)</label>
                            <input type="number" id="input-ibo" step="0.001" value="0.0">
                        </div>
                        
                        <div class="input-group">
                            <label for="input-RMG">Nilai Rasio Murid-Guru (0-100%)</label>
                            <input type="number" id="input-RMG" step="0.001" value="0.0">
                        </div>
                        
                        <div class="input-group">
                            <label for="input-kg">Nilai Kualitas Guru (0-100%)</label>
                            <input type="number" id="input-kg" step="0.001" value="0.0">
                        </div>
                        
                        <div class="input-group">
                            <label for="input-aps">Nilai Angka Partisipasi Sekolah (0-100%)</label>
                            <input type="number" id="input-aps" step="0.001" value="0.0">
                        </div>
                        
                        <div class="input-group">
                            <label for="input-k">Nilai Kemiskinan (0-100%)</label>
                            <input type="number" id="input-k" step="0.001" value="0.0">
                        </div>
                        
                        <div class="input-group">
                            <label for="input-gr">Nilai Gini Rasio (0-1)</label>
                            <input type="number" id="input-gr" step="0.001" value="0.0">
                        </div>
                    </div>
                    
                    <button id="predict-btn">Prediksi Cluster & Kebijakan</button>
                    
                    <div id="prediction-result">
                        <div class="alert alert-info">
                            Masukkan nilai untuk semua variabel dan klik tombol prediksi.
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>EduStat - Aplikasi Analisis Data Pendidikan &copy; 2025</p>
        </div>
    </footer>

    <script>
        // Data dari dataset Excel yang diberikan
        const provinsiData = {
            "ACEH": { AL: 62.93, IBO: 7.53, RMG: 9.79, KG: 99.22, APS: 81.55, K: 12.64, GR: 0.294, Cluster: "2" },
            "SUMATERA UTARA": { AL: 74.15, IBO: 8.04, RMG: 13.98, KG: 98.92, APS: 78.59, K: 7.19, GR: 0.306, Cluster: "2" },
            "SUMATERA BARAT": { AL: 74.59, IBO: 9.38, RMG: 13.78, KG: 98.46, APS: 84.4, K: 5.42, GR: 0.287, Cluster: "2" },
            "RIAU": { AL: 77.68, IBO: 9.19, RMG: 12.83, KG: 98.56, APS: 78.49, K: 6.36, GR: 0.306, Cluster: "2" },
            "JAMBI": { AL: 71.76, IBO: 9.46, RMG: 12.44, KG: 98.47, APS: 71.97, K: 7.26, GR: 0.315, Cluster: "2" },
            "SUMATERA SELATAN": { AL: 70.54, IBO: 9.75, RMG: 12.33, KG: 96.95, APS: 70.8, K: 10.51, GR: 0.331, Cluster: "2" },
            "BENGKULU": { AL: 70.72, IBO: 8.19, RMG: 12.76, KG: 98.23, APS: 79.07, K: 12.52, GR: 0.343, Cluster: "2" },
            "LAMPUNG": { AL: 73.37, IBO: 9.52, RMG: 14.26, KG: 98.63, APS: 72.35, K: 10.62, GR: 0.301, Cluster: "2" },
            "KEP. BANGKA BELITUNG": { AL: 76.06, IBO: 8.92, RMG: 17.21, KG: 98.62, APS: 72.69, K: 5.08, GR: 0.235, Cluster: "0" },
            "KEP. RIAU": { AL: 89.26, IBO: 10.41, RMG: 15.14, KG: 98.55, APS: 85.56, K: 4.78, GR: 0.357, Cluster: "0" },
            "DKI JAKARTA": { AL: 87.84, IBO: 11.21, RMG: 15.5, KG: 98.62, APS: 79.95, K: 4.14, GR: 0.431, Cluster: "0" },
            "JAWA BARAT": { AL: 76.62, IBO: 11.41, RMG: 19.04, KG: 98.45, APS: 71.15, K: 7.08, GR: 0.428, Cluster: "0" },
            "JAWA TENGAH": { AL: 73.15, IBO: 9.1, RMG: 17.33, KG: 99.02, APS: 71.6, K: 9.58, GR: 0.364, Cluster: "0" },
            "DI YOGYAKARTA": { AL: 80.1, IBO: 10.52, RMG: 14.08, KG: 98.61, APS: 90.36, K: 10.4, GR: 0.428, Cluster: "0" },
            "JAWA TIMUR": { AL: 69.36, IBO: 10.51, RMG: 15.76, KG: 98.84, APS: 76.44, K: 9.56, GR: 0.373, Cluster: "0" },
            "BANTEN": { AL: 75.17, IBO: 10.99, RMG: 16.55, KG: 98.48, APS: 71.91, K: 5.7, GR: 0.359, Cluster: "0" },
            "BALI": { AL: 77.56, IBO: 10.61, RMG: 16.35, KG: 98.87, APS: 85.17, K: 3.8, GR: 0.348, Cluster: "0" },
            "NUSA TENGGARA BARAT": { AL: 68.52, IBO: 9.54, RMG: 12.97, KG: 98.41, APS: 77.81, K: 11.91, GR: 0.364, Cluster: "2" },
            "NUSA TENGGARA TIMUR": { AL: 54.84, IBO: 8.79, RMG: 14.91, KG: 98.02, APS: 75.75, K: 19.02, GR: 0.316, Cluster: "2" },
            "KALIMANTAN BARAT": { AL: 71.57, IBO: 7.48, RMG: 15.41, KG: 98.13, APS: 69.39, K: 6.25, GR: 0.314, Cluster: "2" },
            "KALIMANTAN TENGAH": { AL: 75.23, IBO: 7.88, RMG: 12.7, KG: 98.16, APS: 68.33, K: 5.26, GR: 0.304, Cluster: "2" },
            "KALIMANTAN SELATAN": { AL: 74.82, IBO: 9.13, RMG: 13.54, KG: 98.73, APS: 72.31, K: 4.02, GR: 0.298, Cluster: "2" },
            "KALIMANTAN TIMUR": { AL: 84.44, IBO: 8.55, RMG: 15.26, KG: 98.77, APS: 81.84, K: 5.51, GR: 0.31, Cluster: "2" },
            "KALIMANTAN UTARA": { AL: 77.44, IBO: 9.07, RMG: 14.05, KG: 98.28, APS: 78.89, K: 5.38, GR: 0.259, Cluster: "2" },
            "SULAWESI UTARA": { AL: 68.44, IBO: 10.23, RMG: 12.82, KG: 99.25, APS: 72.48, K: 6.7, GR: 0.347, Cluster: "2" },
            "SULAWESI TENGAH": { AL: 62.44, IBO: 8.87, RMG: 14.23, KG: 98.74, APS: 74.16, K: 11.04, GR: 0.309, Cluster: "2" },
            "SULAWESI SELATAN": { AL: 70.1, IBO: 12.21, RMG: 15.07, KG: 98.61, APS: 73.17, K: 7.77, GR: 0.36, Cluster: "2" },
            "SULAWESI TENGGARA": { AL: 70.36, IBO: 8.64, RMG: 13.99, KG: 98.72, APS: 75.73, K: 10.63, GR: 0.365, Cluster: "2" },
            "GORONTALO": { AL: 65.92, IBO: 7.48, RMG: 15.27, KG: 98.91, APS: 72.7, K: 13.87, GR: 0.413, Cluster: "2" },
            "SULAWESI BARAT": { AL: 66.64, IBO: 8.38, RMG: 12.83, KG: 98.82, APS: 72.09, K: 10.71, GR: 0.33, Cluster: "2" },
            "MALUKU": { AL: 59.96, IBO: 7.8, RMG: 14.37, KG: 98.84, APS: 77.7, K: 15.78, GR: 0.291, Cluster: "2" },
            "MALUKU UTARA": { AL: 59.17, IBO: 6.96, RMG: 11.86, KG: 98.65, APS: 76.02, K: 6.03, GR: 0.296, Cluster: "2" },
            "PAPUA BARAT": { AL: 62.96, IBO: 6.38, RMG: 13.14, KG: 98.25, APS: 75.32, K: 21.09, GR: 0.385, Cluster: "2" },
            "PAPUA BARAT DAYA": { AL: 65.75, IBO: 6.32, RMG: 13.73, KG: 98.77, APS: 81.14, K: 16.95, GR: 0.347, Cluster: "2" },
            "PAPUA": { AL: 62.24, IBO: 9.24, RMG: 14.84, KG: 98.46, APS: 80.38, K: 18.09, GR: 0.405, Cluster: "0" },
            "PAPUA SELATAN": { AL: 48.44, IBO: 6.45, RMG: 13.96, KG: 97.44, APS: 71.68, K: 19.35, GR: 0.424, Cluster: "1" },
            "PAPUA TENGAH": { AL: 28.71, IBO: 5.27, RMG: 15.49, KG: 98.09, APS: 47.65, K: 27.6, GR: 0.355, Cluster: "1" },
            "PAPUA PEGUNUNGAN": { AL: 6.76, IBO: 3.04, RMG: 16.48, KG: 96.55, APS: 56.09, K: 29.66, GR: 0.346, Cluster: "1" }
        };

        // Menghitung mean dan std dari data asli
        const calculateStats = () => {
            const features = ['AL', 'IBO', 'RMG', 'KG', 'APS', 'K', 'GR'];
            const means = {};
            const stds = {};
            
            features.forEach(feature => {
                const values = Object.values(provinsiData).map(p => p[feature]);
                means[feature] = values.reduce((a, b) => a + b, 0) / values.length;
                stds[feature] = Math.sqrt(values.map(x => Math.pow(x - means[feature], 2)).reduce((a, b) => a + b, 0) / values.length);
            });
            
            return { means, stds };
        };

        const { means, stds } = calculateStats();
        
        // Standardisasi data
        const standardizeData = (data) => {
            const standardized = {};
            Object.keys(data).forEach(provinsi => {
                standardized[provinsi] = {};
                Object.keys(data[provinsi]).forEach(feature => {
                    if (feature !== 'Cluster') {
                        standardized[provinsi][feature] = (data[provinsi][feature] - means[feature]) / stds[feature];
                    } else {
                        standardized[provinsi][feature] = data[provinsi][feature];
                    }
                });
            });
            return standardized;
        };

        const standardizedData = standardizeData(provinsiData);

        // Menghitung centroid untuk setiap cluster
        const calculateCentroids = () => {
            const features = ['AL', 'IBO', 'RMG', 'KG', 'APS', 'K', 'GR'];
            const centroids = {
                '0': Array(features.length).fill(0),
                '1': Array(features.length).fill(0),
                '2': Array(features.length).fill(0)
            };
            const counts = { '0': 0, '1': 0, '2': 0 };
            
            Object.values(standardizedData).forEach(provinsi => {
                const cluster = provinsi.Cluster;
                counts[cluster]++;
                features.forEach((feature, idx) => {
                    centroids[cluster][idx] += provinsi[feature];
                });
            });
            
            // Hitung rata-rata
            Object.keys(centroids).forEach(cluster => {
                centroids[cluster] = centroids[cluster].map(val => val / counts[cluster]);
            });
            
            return centroids;
        };

        const centroids = calculateCentroids();
        
        const urgentMessages = {
            'AL': "‚ö° Pemerintah harus mempercepat pembangunan infrastruktur listrik terutama di daerah terpencil, dengan memanfaatkan energi terbarukan (PLTS, mikrohidro), serta memberikan subsidi jaringan listrik perlu diarahkan agar keluarga miskin tetap mampu mengakses listrik yang stabil.",
            'IBO': "üåê Internet untuk Pembelajaran Online Lemah: Perluasan jaringan internet berbasis BTS dan fiber optic harus diprioritaskan, terutama di sekolah pedesaan serta menghadirkan paket data edukasi murah bagi siswa dan guru.",
            'RMG': "üë©‚Äçüè´ Rasio Murid dan Guru SMA Tidak Seimbang: Rekrutmen dan distribusi guru perlu diperbaiki agar pemerataan lebih terjamin. Daerah dengan kekurangan guru bisa diberi program insentif, seperti tunjangan khusus atau kontrak ikatan dinas.",
            'KG': "üìö Kualitas Guru Rendah: Pemerintah harus meningkatkan kualitas melalui pelatihan berkelanjutan (continuous professional development) berbasis teknologi. Sistem sertifikasi guru juga harus lebih menekankan pada kompetensi pedagogik dan digital.",
            'APS': "üéì Angka Partisipasi Sekolah (APS) SMA Rendah: Pemerintah dapat memberikan beasiswa afirmatif untuk siswa miskin, memperkuat program KIP Kuliah/KIP Sekolah, serta membangun lebih banyak SMA/SMK di daerah minim sekolah. Kampanye kesadaran pentingnya pendidikan juga perlu ditingkatkan.",
            'K': "üí∏ Angka Kemiskinan Tinggi: Program perlindungan sosial (PKH, BLT, sembako) harus disinergikan dengan program pemberdayaan ekonomi, seperti pelatihan kerja, akses kredit UMKM, dan padat karya. Pendidikan vokasi bisa diarahkan agar sesuai dengan kebutuhan pasar kerja lokal.",
            'GR': "‚öñ Gini Rasio Tinggi (ketimpangan lebar): Kebijakan redistribusi harus diperkuat, misalnya melalui pajak progresif, subsidi tepat sasaran, serta pemerataan pembangunan antarwilayah. Di sisi pendidikan, harus dipastikan semua kalangan (miskin maupun kaya) mendapat akses yang setara terhadap layanan sekolah berkualitas."
        };

        const clusterInfo = {
            "0": { name: "Maju", color: "cluster-0", desc: "Provinsi dengan akses listrik, internet, dan rasio guru yang baik, serta prevalensi kemiskinan yang rendah." },
            "1": { name: "Tertinggal", color: "cluster-1", desc: "Provinsi dengan nilai rendah di hampir semua indikator dasar seperti akses listrik, internet, ketersediaan guru, dan prevalensi kemiskinan yang tinggi." },
            "2": { name: "Menengah", color: "cluster-2", desc: "Provinsi dengan kinerja yang mendekati rata-rata nasional di sebagian besar indikator." }
        };

        // Fungsi untuk navigasi antar halaman
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const navMenu = document.getElementById('nav-menu');
            
            // Navigasi menu
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetPage = this.getAttribute('data-page');
                    
                    // Update kelas aktif
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Tampilkan halaman yang sesuai
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById(targetPage).classList.add('active');
                    
                    // Sembunyikan menu mobile setelah memilih
                    navMenu.classList.remove('show');
                });
            });
            
            // Toggle menu mobile
            mobileMenuBtn.addEventListener('click', function() {
                navMenu.classList.toggle('show');
            });
            
            // Setup halaman analisis
            const provinsiSelect = document.getElementById('provinsi-select');
            provinsiSelect.addEventListener('change', updateAnalysis);
            
            // Setup halaman prediksi
            const predictBtn = document.getElementById('predict-btn');
            predictBtn.addEventListener('click', predictCluster);
            
            // Inisialisasi halaman analisis dengan provinsi pertama
            updateAnalysis();
        });

        // Fungsi untuk memperbarui analisis berdasarkan provinsi yang dipilih
        function updateAnalysis() {
            const provinsiSelect = document.getElementById('provinsi-select');
            const selectedProvinsi = provinsiSelect.value;
            const data = provinsiData[selectedProvinsi];
            const resultDiv = document.getElementById('analysis-result');
            
            if (!data) {
                resultDiv.innerHTML = '<div class="alert alert-danger">Data untuk provinsi ini tidak ditemukan.</div>';
                return;
            }
            
            const { AL, IBO, RMG, KG, APS, K, GR, Cluster } = data;
            
            // Bangsa HTML untuk hasil analisis
            let html = `
                <h3>Data Provinsi: ${selectedProvinsi}</h3>
                <div class="alert alert-success">
                    ‚úÖ Provinsi ${selectedProvinsi} termasuk 
                    <span class="cluster-badge ${clusterInfo[Cluster].color}">Cluster ${Cluster} - ${clusterInfo[Cluster].name}</span>
                </div>
                
                <hr>
                
                <h3>Statistik Provinsi</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">${AL}%</div>
                        <div class="stat-label">Akses Listrik</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${IBO}%</div>
                        <div class="stat-label">Internet untuk Pembelajaran Daring</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${RMG}%</div>
                        <div class="stat-label">Rasio Murid-Guru</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${KG}%</div>
                        <div class="stat-label">Kualitas Guru</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${APS}%</div>
                        <div class="stat-label">Angka Partisipasi Sekolah</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${K}%</div>
                        <div class="stat-label">Kemiskinan</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${GR}</div>
                        <div class="stat-label">Gini Rasio</div>
                    </div>
                </div>
                
                <h3>Analisis dan Rekomendasi</h3>
            `;
            
            // Analisis berdasarkan nilai-nilai
            const recommendations = [];
            
            if (AL < 60) recommendations.push('AL');
            if (IBO < 7) recommendations.push('IBO');
            if (RMG < 10) recommendations.push('RMG');
            if (KG < 97) recommendations.push('KG');
            if (APS < 70) recommendations.push('APS');
            if (K > 15) recommendations.push('K');
            if (GR > 0.35) recommendations.push('GR');
            
            if (recommendations.length > 0) {
                html += '<div class="priority-list">';
                
                recommendations.slice(0, 3).forEach((variable, index) => {
                    html += `
                        <div class="priority-item">
                            <h4>${index + 1}. Prioritas Perbaikan: </h4>
                            <p>${urgentMessages[variable]}</p>
                        </div>
                    `;
                });
                
                html += '</div>';
            } else {
                html += '<div class="alert alert-info">üéâ Provinsi ini memiliki performa yang baik di semua indikator.</div>';
            }
            
            resultDiv.innerHTML = html;
        }

        // Fungsi untuk memprediksi cluster berdasarkan input
        function predictCluster() {
            // Ambil nilai input
            const inputs = [
                parseFloat(document.getElementById('input-al').value),
                parseFloat(document.getElementById('input-ibo').value),
                parseFloat(document.getElementById('input-RMG').value),
                parseFloat(document.getElementById('input-kg').value),
                parseFloat(document.getElementById('input-aps').value),
                parseFloat(document.getElementById('input-k').value),
                parseFloat(document.getElementById('input-gr').value)
            ];
            
            // Validasi input
            if (inputs.some(isNaN)) {
                document.getElementById('prediction-result').innerHTML = `
                    <div class="alert alert-danger">
                        ‚ùå Harap isi semua nilai dengan angka yang valid.
                    </div>
                `;
                return;
            }
            
            // Standardisasi input
            const features = ['AL', 'IBO', 'RMG', 'KG', 'APS', 'K', 'GR'];
            const scaledInputs = inputs.map((value, index) => {
                const feature = features[index];
                return (value - means[feature]) / stds[feature];
            });
            
            // Hitung jarak ke setiap centroid
            const distances = {};
            Object.keys(centroids).forEach(cluster => {
                let sum = 0;
                for (let i = 0; i < scaledInputs.length; i++) {
                    sum += Math.pow(scaledInputs[i] - centroids[cluster][i], 2);
                }
                distances[cluster] = Math.sqrt(sum);
            });
            
            // Temukan cluster dengan jarak terdekat
            let minDistance = Infinity;
            let predictedCluster = null;
            
            Object.keys(distances).forEach(cluster => {
                if (distances[cluster] < minDistance) {
                    minDistance = distances[cluster];
                    predictedCluster = cluster;
                }
            });
            
            // Hitung selisih dengan centroid terpilih
            const centroid = centroids[predictedCluster];
            const diffs = scaledInputs.map((value, index) => {
                return Math.abs(value - centroid[index]);
            });
            
            // Buat daftar fitur dengan selisih terbesar
            const featureNames = ['AL', 'IBO', 'RMG', 'KG', 'APS', 'K', 'GR'];
            const contrib = featureNames.map((feature, index) => {
                return { feature, diff: diffs[index] };
            });
            
            // Urutkan berdasarkan selisih (terbesar ke terkecil)
            contrib.sort((a, b) => b.diff - a.diff);
            
            // Ambil top 3
            const top3 = contrib.slice(0, 3);
            
            // Tampilkan hasil
            const resultDiv = document.getElementById('prediction-result');
            const variableDescriptions = {
                AL: "Akses Listrik",
                IBO: "Internet untuk Pembelajaran Daring",
                RMG: "Rasio Murid-Guru",
                KG: "Kualitas Guru",
                APS: "Angka Partisipasi Sekolah",
                K: "Kemiskinan",
                GR: "Gini Rasio"
            };

            let html = `
                <div class="alert alert-success">
                    ‚úÖ Data diprediksi masuk <span class="cluster-badge ${clusterInfo[predictedCluster].color}">Cluster ${predictedCluster} - ${clusterInfo[predictedCluster].name}</span>
                </div>
                
                <h3>Top 3 Rekomendasi Kebijakan</h3>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>Variabel</th>
                            <th>Keterangan</th>
                            <th>Tingkat Prioritas</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            top3.forEach(item => {
                html += `
                    <tr>
                        <td>${item.feature}</td>
                        <td>${variableDescriptions[item.feature]}</td>
                        <td>${(item.diff * 100).toFixed(2)}%</td>
                    </tr>
                `;
            });
            
            html += `
                    </tbody>
                </table>
                
                <h3>Penjelasan Rekomendasi Kebijakan</h3>
            `;
            
            top3.forEach(item => {
                if (urgentMessages[item.feature]) {
                    html += `
                        <div class="alert alert-info">
                            ${urgentMessages[item.feature]}
                        </div>
                    `;
                }
            });
            
            resultDiv.innerHTML = html;
        }
    </script>
</body>
</html>
